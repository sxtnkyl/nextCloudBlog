(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9025],{1766:function(e,t,n){var r={"./amplify-amazon-button_5.entry.js":[2265,2265],"./amplify-auth-container.entry.js":[292,292],"./amplify-auth-fields_9.entry.js":[3763,3763],"./amplify-authenticator.entry.js":[2146,2146],"./amplify-button_3.entry.js":[8473,8473],"./amplify-chatbot.entry.js":[9723,8764,9723],"./amplify-checkbox.entry.js":[1523,1523],"./amplify-confirm-sign-in_7.entry.js":[5208,5208],"./amplify-container.entry.js":[4131,4131],"./amplify-federated-buttons_2.entry.js":[885,885],"./amplify-federated-sign-in.entry.js":[7611,7611],"./amplify-form-field_4.entry.js":[801,801],"./amplify-greetings.entry.js":[9616,9616],"./amplify-icon-button.entry.js":[6063,6063],"./amplify-icon.entry.js":[2831,2831],"./amplify-link.entry.js":[8870,8870],"./amplify-nav_2.entry.js":[9798,9798],"./amplify-photo-picker.entry.js":[5819,5819],"./amplify-picker.entry.js":[5401,5401],"./amplify-radio-button_3.entry.js":[2613,8764,2613],"./amplify-s3-album.entry.js":[2890,4708,9351,2890],"./amplify-s3-image-picker.entry.js":[1324,4708,9351,9742],"./amplify-s3-image.entry.js":[3575,4708,9351,3575],"./amplify-s3-text-picker.entry.js":[8883,4708,9351,8883],"./amplify-s3-text.entry.js":[2678,4708,9351,5905],"./amplify-select-mfa-type.entry.js":[8384,8384],"./amplify-sign-in-button.entry.js":[5574,5574],"./amplify-tooltip.entry.js":[1223,1223]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=1766,e.exports=a},5299:function(e,t,n){"use strict";n.r(t);var r=n(7757),a=n.n(r),i=n(5893),s=n(2137),o=n(6156),c=n(5152),l=(n(5987),n(6280)),u=n(7294),p=n(2786),f=n(5112),y=n(4586),m=n(1163),b=(n(5675),n(7292));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=(0,c.default)((function(){return Promise.all([n.e(3126),n.e(1634),n.e(2562)]).then(n.bind(n,1634))}),{ssr:!1,loadableGenerated:{webpack:function(){return[1634]},modules:["create-post.js -> react-simplemde-editor"]}}),g={title:"",content:""};t.default=(0,l.Q)((function(){var e=(0,u.useState)(g),t=e[0],n=e[1],r=(0,u.useState)(null),c=r[0],l=r[1],j=(0,u.useRef)(null),O=t.title,x=t.content,_=(0,m.useRouter)();function v(){return(v=(0,s.Z)(a().mark((function e(){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&x){e.next=2;break}return e.abrupt("return");case 2:if(n=(0,y.Z)(),t.id=n,!c){e.next=9;break}return r="".concat(c.name,"_").concat((0,y.Z)()),t.coverImage=r,e.next=9,p.Ke.put(r,c);case 9:return e.next=11,f.b.graphql({query:b.qb,variables:{input:t},authMode:"AMAZON_COGNITO_USER_POOLS"});case 11:_.push("/posts/".concat(n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=(0,s.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.current.click();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.jsxs)("div",{className:"container mx-6",children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6",children:"Create new post"}),(0,i.jsx)("input",{onChange:function(e){n(d(d({},t),{},(0,o.Z)({},e.target.name,e.target.value)))},name:"title",placeholder:"Title",value:t.title,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),c&&(0,i.jsx)("img",{src:URL.createObjectURL(c),alt:"userImage",className:"my-4"}),(0,i.jsx)(h,{value:t.content,onChange:function(e){return n(d(d({},t),{},{content:e}))}}),(0,i.jsx)("input",{type:"file",ref:j,className:"absolute w-0 h-0",onChange:function(e){var t=e.target.files[0];t&&l(t)}}),(0,i.jsx)("button",{className:"bg-purple-600 text-white font-semibold px-8 py-2 rounded-lg mr-2",onClick:function(){return w.apply(this,arguments)},children:"Upload Cover Image"}),(0,i.jsx)("button",{type:"button",className:"mb-4 bg-blue-600 text-white font-semibold px-8 py-2 rounded-lg",onClick:function(){return v.apply(this,arguments)},children:"Create Post"})]})}))},9697:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return n(5299)}])}},function(e){e.O(0,[9774,4708,9351,8764,3935,5675,6280,9508,2888,179],(function(){return t=9697,e(e.s=t);var t}));var t=e.O();_N_E=t}]);